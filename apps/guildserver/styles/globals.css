@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--terminal-paste: rgba(15, 46, 86, 0.25);
		--background: 208 92% 97%;
		--foreground: 222 47% 16%;

		--card: 210 100% 99%;
		--card-foreground: 222 47% 18%;

		--popover: 208 92% 98%;
		--popover-foreground: 222 47% 18%;

		--primary: 214 95% 45%;
		--primary-foreground: 210 100% 97%;

		--secondary: 200 48% 92%;
		--secondary-foreground: 222 44% 20%;

		--muted: 205 32% 88%;
		--muted-foreground: 219 18% 38%;

		--accent: 199 84% 65%;
		--accent-foreground: 222 43% 16%;

		--destructive: 0 84.2% 50.2%;
		--destructive-foreground: 0 0% 98%;

		--border: 210 40% 86%;
		--input: 210 48% 88%;
		--ring: 204 94% 45%;

		--radius: 0.75rem;
		--overlay: rgba(12, 24, 46, 0.45);
		--glow-sky: 200 98% 55%;

		--chart-1: 199 84% 55%;
		--chart-2: 12 76% 61%;
		--chart-3: 227 63% 37%;
		--chart-4: 43 80% 64%;
		--chart-5: 267 73% 65%;
		--sidebar-background: 207 82% 96%;
		--sidebar-foreground: 222 47% 18%;
		--sidebar-primary: 214 90% 45%;
		--sidebar-primary-foreground: 210 100% 97%;
		--sidebar-accent: 199 84% 65%;
		--sidebar-accent-foreground: 222 43% 16%;
		--sidebar-border: 209 46% 82%;
		--sidebar-ring: 204 94% 45%;
	}

	.dark {
		--terminal-paste: rgba(148, 197, 255, 0.2);
		--background: 222 60% 9%;
		--foreground: 210 40% 96%;

		--card: 222 55% 12%;
		--card-foreground: 210 40% 96%;

		--popover: 222 52% 14%;
		--popover-foreground: 210 40% 96%;

		--primary: 199 89% 68%;
		--primary-foreground: 218 65% 12%;

		--secondary: 220 35% 20%;
		--secondary-foreground: 204 94% 90%;

		--muted: 222 30% 18%;
		--muted-foreground: 199 65% 72%;

		--accent: 199 80% 35%;
		--accent-foreground: 210 40% 96%;

		--destructive: 0 84.2% 50.2%;
		--destructive-foreground: 0 0% 98%;

		--border: 221 32% 22%;
		--input: 222 28% 22%;
		--ring: 199 89% 68%;

		--overlay: rgba(4, 10, 22, 0.65);
		--glow-sky: 199 89% 68%;

		--chart-1: 202 100% 60%;
		--chart-2: 336 84% 58%;
		--chart-3: 42 92% 62%;
		--chart-4: 267 89% 72%;
		--chart-5: 158 75% 55%;
		--sidebar-background: 222 60% 8%;
		--sidebar-foreground: 210 40% 94%;
		--sidebar-primary: 200 98% 55%;
		--sidebar-primary-foreground: 222 47% 10%;
		--sidebar-accent: 221 28% 18%;
		--sidebar-accent-foreground: 210 40% 94%;
		--sidebar-border: 222 30% 20%;
		--sidebar-ring: 199 89% 68%;
	}
}

@layer base {
	* {
		@apply border-border;
	}

	body {
		@apply bg-background text-foreground;
		background-image:
			radial-gradient(
				circle at 18% 18%,
				rgba(56, 189, 248, 0.18),
				transparent 55%
			),
			radial-gradient(
				circle at 82% -8%,
				rgba(99, 102, 241, 0.16),
				transparent 45%
			);
		background-attachment: fixed;
	}

	/* Custom scrollbar styling */
	::-webkit-scrollbar {
		width: 0.3125rem;
	}

	::-webkit-scrollbar-track {
		background: transparent;
	}

	::-webkit-scrollbar-thumb {
		background: hsl(var(--border));
		border-radius: 0.3125rem;
	}

	* {
		scrollbar-width: thin;
		scrollbar-color: hsl(var(--border)) transparent;
	}
}

@layer components {
	.btn-sky {
		@apply relative overflow-hidden rounded-xl bg-gradient-to-r from-sky-500 via-blue-500 to-indigo-500 text-white shadow-[0_15px_45px_-20px_rgba(14,116,204,0.9)] transition-all duration-300 ease-out hover:shadow-[0_22px_55px_-22px_rgba(14,116,204,0.95)] hover:brightness-110 focus-visible:ring-2 focus-visible:ring-sky-200/80 focus-visible:ring-offset-2 active:scale-[0.97];
	}

	.btn-sky::before {
		content: "";
		position: absolute;
		top: -120%;
		left: -40%;
		width: 160%;
		height: 160%;
		background: radial-gradient(
			circle at center,
			rgba(255, 255, 255, 0.25),
			transparent 60%
		);
		opacity: 0;
		transition:
			opacity 0.35s ease,
			transform 0.35s ease;
	}

	.btn-sky:hover::before {
		opacity: 1;
		transform: translateY(20%);
	}

	.surface-glass {
		@apply bg-white/65 dark:bg-white/10 border border-white/40 dark:border-white/10 backdrop-blur-md shadow-[0_18px_45px_-25px_rgba(19,37,64,0.55)] dark:shadow-[0_18px_45px_-28px_rgba(10,25,55,0.75)] rounded-2xl;
	}

	.modal-panel {
		@apply surface-glass relative overflow-hidden;
	}

	.modal-panel::after {
		content: "";
		position: absolute;
		inset: -1px;
		pointer-events: none;
		border-radius: inherit;
		background: conic-gradient(
			from 90deg at 50% 50%,
			rgba(125, 211, 252, 0.35),
			transparent 25%,
			rgba(125, 211, 252, 0.2),
			transparent 50%,
			rgba(165, 243, 252, 0.3)
		);
		opacity: 0;
		transition: opacity 0.4s ease;
	}

	.modal-panel[data-state="open"]::after {
		opacity: 1;
	}
}

@layer utilities {
	/* Chrome, Safari and Opera */
	.no-scrollbar::-webkit-scrollbar {
		display: none;
	}

	.no-scrollbar {
		-ms-overflow-style: none; /* IE and Edge */
		scrollbar-width: none; /* Firefox */
	}

	.glow-border {
		position: relative;
		z-index: 0;
	}

	.glow-border::before {
		content: "";
		position: absolute;
		top: -1px;
		left: -1px;
		right: -1px;
		bottom: -1px;
		border-radius: inherit;
		z-index: -1;
		background: linear-gradient(
			120deg,
			rgba(56, 189, 248, 0.35),
			rgba(99, 102, 241, 0.3),
			transparent 65%
		);
	}
}

.xterm-viewport {
	border-radius: 0.75rem /* 12px */ !important;
}

.xterm .xterm-viewport {
	overflow-y: auto !important;
}

.xterm .xterm-screen {
	overflow: hidden;
}

/* Codemirror */
.cm-editor {
	@apply w-full h-full rounded-md overflow-hidden border border-solid border-border outline-none;
}

.cm-editor .cm-scroller {
	font-family: inherit;
	line-height: inherit;
}

.cm-editor.cm-focused {
	@apply outline-none;
}

/* fix: placeholder bg */
.cm-editor .cm-activeLine:has(.cm-placeholder) {
	background-color: transparent;
}

.compose-file-editor .cm-editor {
	@apply min-h-[25rem];
}

@keyframes heartbeat {
	0% {
		transform: scale(1);
		opacity: 0.7;
	}
	25% {
		transform: scale(1.1);
		opacity: 1;
	}
	50% {
		transform: scale(1);
		opacity: 0.7;
	}
	75% {
		transform: scale(1.1);
		opacity: 1;
	}
	100% {
		transform: scale(1);
		opacity: 0.7;
	}
}

@keyframes gentlePulse {
	0%,
	100% {
		opacity: 0.8;
		transform: scale(1);
	}
	50% {
		opacity: 1;
		transform: scale(1.02);
	}
}

@keyframes modalBloom {
	0% {
		opacity: 0;
		transform: translate3d(-50%, -60%, 0) scale(0.92);
	}
	60% {
		opacity: 1;
		transform: translate3d(-50%, -48%, 0) scale(1.02);
	}
	100% {
		opacity: 1;
		transform: translate3d(-50%, -50%, 0) scale(1);
	}
}

@keyframes modalFade {
	0% {
		opacity: 1;
		transform: translate3d(-50%, -50%, 0) scale(1);
	}
	100% {
		opacity: 0;
		transform: translate3d(-50%, -60%, 0) scale(0.9);
	}
}
